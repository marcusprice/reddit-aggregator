(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},156:function(e,t,a){e.exports=a(386)},162:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},186:function(e,t,a){},364:function(e,t,a){},365:function(e,t,a){},366:function(e,t,a){},367:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),o=a.n(s),i=a(8),l=a(9),c=a(12),d=a(10),h=a(1),u=a(11),p=a(23),m=a.n(p),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){this.props.handleToggle("loginForm")}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("h1",{style:{cursor:"pointer"},onClick:function(){e.handleClick()},className:"display-4"},"Reddit Aggregator"),r.a.createElement("p",{className:"lead"},"Personalized web app to collect the best daily Reddit submissions"))}}]),t}(r.a.Component),b=a(5),f=a.n(b),w=a(18),v=a.n(w),E=a(24),k=a.n(E),C=a(22),y=a.n(C),j=a(2),O=a.n(j),D=(a(162),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={handle:"",password:"",rememberMe:0},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){"handle"===e.target.id&&this.setState({handle:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"rememberMe"===e.target.id&&this.setState({rememberMe:e.target.checked})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),fetch("/login?handle="+this.state.handle+"&password="+this.state.password+"&rememberMe="+this.state.rememberMe).then(function(e){return e.json(e)}).then(function(e){e.loggedIn&&t.props.handleLogin(e)})}},{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{className:"login-form"},r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Please Sign In"),r.a.createElement(O.a.Group,{controlId:"handle"},r.a.createElement(O.a.Label,null,"Username or Email"),r.a.createElement(O.a.Control,{value:this.state.handle,onChange:this.handleChange,type:"email",placeholder:"Enter Username or Email"})),r.a.createElement(O.a.Group,{controlId:"password"},r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{value:this.state.password,onChange:this.handleChange,type:"password",placeholder:"Password"})),r.a.createElement(O.a.Group,{controlId:"rememberMe"},r.a.createElement(O.a.Check,{onChange:this.handleChange,type:"checkbox",label:"Remember Me"})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Login")),r.a.createElement("p",{onClick:function(){e.handleClick("about")}},"New Here? Learn More & Sign Up!"),r.a.createElement("p",{onClick:function(){e.handleClick("forgotPassword")}},"Forgot Password?"))))}}]),t}(r.a.Component)),R=(a(172),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{className:"about"},r.a.createElement("h2",null,"Who has time to be on Reddit all day?"),r.a.createElement("p",null,"Many Reddit posts get submitted throughout the day, and unless you can constantly check your reddit feed some content may be missed and buried by other submissions."),r.a.createElement("p",null,"Reddit Aggregator helps mitigate this problem by allowing you to create an account and submit a list of subreddits you enjoy. Reddit Aggregator will check the subreddits hourly and compile a list of entries throughout the day that match the subreddits you provide. These entries are bundled together into a nice readable format called a report. Users can have several reports for different purposes (each having their own set of subreddits)."),r.a.createElement("p",{className:"lead"},"Sound cool? Go ahead and sign up, it just takes a minute."),r.a.createElement(v.a,{style:{textAlign:"center"},className:"about-button-conatiner"},r.a.createElement(f.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("signUpForm")}},"Sign Up"),r.a.createElement(f.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In")))}}]),t}(r.a.Component)),S=a(28),N=a.n(S),I=(a(173),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.createNewUser=a.createNewUser.bind(Object(h.a)(a)),a.handleAlert=a.handleAlert.bind(Object(h.a)(a)),a.state={username:"",email:"",password:"",passwordCheck:"",firstName:"",lastName:"",showWarning:!1,warning:""},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"handleChange",value:function(e){"username"===e.target.id&&this.setState({username:e.target.value}),"email"===e.target.id&&this.setState({email:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"passwordCheck"===e.target.id&&this.setState({passwordCheck:e.target.value}),"firstName"===e.target.id&&this.setState({firstName:e.target.value}),"lastName"===e.target.id&&this.setState({lastName:e.target.value})}},{key:"handleAlert",value:function(){var e=this;if(this.state.showWarning)return window.scrollTo(0,0),r.a.createElement(N.a,{onClose:function(){e.setState({showWarning:!1,alertShown:!1})},dismissible:!0,variant:"danger"},this.state.warning)}},{key:"createNewUser",value:function(e){var t=this;e.preventDefault(),this.state.password===this.state.passwordCheck?fetch("/createUser",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({username:this.state.username,email:this.state.email,password:this.state.password,firstName:this.state.firstName,lastName:this.state.lastName})}).then(function(e){return e.json()}).then(function(e){e.userCreated||"Error: username or email already exists"===e.reason&&t.setState({showWarning:!0,warning:"Username and/or Email Already In Use"})}):this.setState({showWarning:!0,warning:"Passwords Do Not Match"})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{className:"signup-form"},this.handleAlert(),r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{className:"signupForm",onSubmit:this.createNewUser},r.a.createElement("h3",null,"Sign Up"),r.a.createElement(O.a.Group,{controlId:"username"},r.a.createElement(O.a.Label,null,"Username"),r.a.createElement(O.a.Control,{value:this.state.username,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Username"})),r.a.createElement(O.a.Group,{controlId:"email"},r.a.createElement(O.a.Label,null,"Email"),r.a.createElement(O.a.Control,{value:this.state.email,onChange:this.handleChange,required:"required",type:"email",placeholder:"Enter your Email"})),r.a.createElement(O.a.Group,{controlId:"password"},r.a.createElement(O.a.Label,null,"Password"),r.a.createElement(O.a.Control,{value:this.state.password,onChange:this.handleChange,required:"required",type:"password",placeholder:"Password"})),r.a.createElement(O.a.Group,{controlId:"passwordCheck"},r.a.createElement(O.a.Label,null,"Retype Password"),r.a.createElement(O.a.Control,{value:this.state.passwordCheck,onChange:this.handleChange,required:"required",type:"password",placeholder:"Password"})),r.a.createElement(O.a.Group,{controlId:"firstName"},r.a.createElement(O.a.Label,null,"First Name"),r.a.createElement(O.a.Control,{value:this.state.firstName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your First Name"})),r.a.createElement(O.a.Group,{controlId:"lastName"},r.a.createElement(O.a.Label,null,"Last Name"),r.a.createElement(O.a.Control,{value:this.state.lastName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your Last Name"})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Create Account")))),r.a.createElement(v.a,{style:{textAlign:"center",marginBottom:"2rem"},className:"singup-button-conatiner"},r.a.createElement(f.a,{size:"sm",variant:"dark",className:"signup-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In"),r.a.createElement(f.a,{size:"sm",variant:"dark",className:"signup-button",onClick:function(){e.handleClick("about")}},"Back to About")))}}]),t}(r.a.Component)),x=a(59),A=a.n(x),T=(a(182),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={email:""},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleButtonText=a.handleButtonText.bind(Object(h.a)(a)),a.warning=a.warning.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"handleButtonText",value:function(){return this.props.spinner?r.a.createElement(A.a,{size:"sm",animation:"grow",variant:"light"}):"Send Temporary Password"}},{key:"warning",value:function(){var e=this;if(this.props.showWarning)return r.a.createElement(N.a,{onClose:function(){e.props.closeWarning()},dismissible:!0,variant:"danger"},"That Email Is Not Registered")}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.requestNewPassword(this.state.email)}},{key:"handleChange",value:function(e){"email"===e.target.id&&this.setState({email:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(v.a,{className:"forgot-password-form"},r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{onSubmit:this.handleSubmit},this.warning(),r.a.createElement("h3",null,"Forgot Password"),r.a.createElement(O.a.Group,{controlId:"email"},r.a.createElement(O.a.Label,null,"Enter Your Email"),r.a.createElement(O.a.Control,{value:this.state.email,onChange:this.handleChange,type:"email",placeholder:"Enter Email"})),r.a.createElement(f.a,{className:"forgot-password-button",variant:"dark",type:"submit",block:!0},this.handleButtonText())))),r.a.createElement(v.a,{style:{textAlign:"center"},className:"forgot-password-button-conatiner"},r.a.createElement(f.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In")))}}]),t}(r.a.Component)),L=(a(183),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){this.props.handleToggle("loginForm")}},{key:"render",value:function(){return r.a.createElement(v.a,{className:"new-password-sent-container"},r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement("p",{className:"lead"},"A temporary password has been sent to your email."),r.a.createElement(f.a,{onClick:this.handleClick,variant:"dark"},"Return to Sign In"))))}}]),t}(r.a.Component)),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={showForm:!0,showSpinner:!1,showWarning:!1},a.requestNewPassword=a.requestNewPassword.bind(Object(h.a)(a)),a.handleDisplay=a.handleDisplay.bind(Object(h.a)(a)),a.closeWarning=a.closeWarning.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleDisplay",value:function(){return this.state.showForm?r.a.createElement(T,{handleToggle:this.props.handleToggle,requestNewPassword:this.requestNewPassword,spinner:this.state.showSpinner,showWarning:this.state.showWarning,closeWarning:this.closeWarning}):r.a.createElement(L,{handleToggle:this.props.handleToggle})}},{key:"closeWarning",value:function(){this.setState({showWarning:!1})}},{key:"requestNewPassword",value:function(e){var t=this;this.setState({showSpinner:!0}),fetch("/forgotPassword",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({email:e})}).then(function(e){return e.json()}).then(function(e){e.result?t.setState({showForm:!1,showSpinner:!1}):(console.log(e),t.setState({showTrue:!1,showSpinner:!1,showWarning:!0}))})}},{key:"render",value:function(){return r.a.createElement("div",null,this.handleDisplay())}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show:"loginForm"},a.handleDisplay=a.handleDisplay.bind(Object(h.a)(a)),a.handleToggle=a.handleToggle.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleToggle",value:function(e){window.scrollTo(0,0),"loginForm"===e?this.setState({show:"loginForm"}):"about"===e?this.setState({show:"about"}):"signUpForm"===e?this.setState({show:"signUpForm"}):this.setState({show:"forgotPassword"})}},{key:"handleDisplay",value:function(){return"loginForm"===this.state.show?r.a.createElement(D,{handleLogin:this.props.handleLogin,handleToggle:this.handleToggle}):"about"===this.state.show?r.a.createElement(R,{handleToggle:this.handleToggle}):"signUpForm"===this.state.show?r.a.createElement(I,{handleToggle:this.handleToggle}):r.a.createElement(F,{handleToggle:this.handleToggle})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{handleToggle:this.handleToggle}),this.handleDisplay())}}]),t}(r.a.Component),P=a(83),W=a.n(P),V=a(38),q=a.n(V),M=a(154),B=a.n(M),G=a(40),z=a.n(G),J=a(152),Y=a.n(J),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleTitleClick=a.handleTitleClick.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),"viewReport"===e.target.id&&this.props.changeView("viewReport",this.props.reportIndex),"editReport"===e.target.id&&this.props.changeView("editReport",this.props.reportIndex),"deleteReport"===e.target.id&&this.props.showDeleteReportWarning(this.props.reportIndex)}},{key:"handleTitleClick",value:function(){this.props.changeView("viewReport",this.props.reportIndex)}},{key:"render",value:function(){return r.a.createElement(z.a,{style:{width:"19rem",marginBottom:"3rem"}},r.a.createElement(z.a.Header,{variant:"dark"},"RA Report"),r.a.createElement(z.a.Body,null,r.a.createElement(z.a.Title,{onClick:this.handleTitleClick,style:{cursor:"pointer"}},this.props.report.name),r.a.createElement(z.a.Text,null,this.props.report.description),r.a.createElement(Y.a,null,r.a.createElement(f.a,{id:"viewReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"View"),r.a.createElement(f.a,{id:"editReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"Edit"),r.a.createElement(f.a,{id:"deleteReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"Delete"))))}}]),t}(r.a.Component),_=a(25),$=a.n(_),K=(a(186),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={showAlert:!1,showModal:!1,deleteReportName:"",deleteReportID:0},a.createReport=a.createReport.bind(Object(h.a)(a)),a.showDeleteReportWarning=a.showDeleteReportWarning.bind(Object(h.a)(a)),a.updateReportData=a.updateReportData.bind(Object(h.a)(a)),a.deleteReport=a.deleteReport.bind(Object(h.a)(a)),a.handleAlert=a.handleAlert.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return r.a.createElement(N.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"success"},"All Reports Updated")}},{key:"createReport",value:function(e){e.preventDefault(),this.props.changeView("createReport")}},{key:"showDeleteReportWarning",value:function(e){var t=this.props.reports.toArray();this.setState({showModal:!0,deleteReportName:t[e].name,deleteReportID:t[e].reportid})}},{key:"updateReportData",value:function(e){var t=this;e.preventDefault(),fetch("/updateReportData?userID="+this.props.userInfo.userid).then(function(e){return e.json()}).then(function(e){t.props.updateReports(e),t.setState({showAlert:!0})})}},{key:"deleteReport",value:function(e){var t=this;e.preventDefault(),fetch("/deleteReport?userID="+this.props.userInfo.userid+"&reportID="+this.state.deleteReportID).then(function(e){return e.json()}).then(function(e){console.log(e),t.props.updateReports(e.reportData),t.setState({showModal:!1})})}},{key:"render",value:function(){var e=this,t=this.props.reports.toArray();return r.a.createElement("div",null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Reports"),r.a.createElement("p",{className:"lead"},"Welcome ",this.props.userInfo.firstname,"! Below are your reports."),r.a.createElement("div",{className:"button-container"},r.a.createElement(f.a,{className:"action-button",onClick:this.createReport},"Create New Report"),r.a.createElement(f.a,{className:"action-button",onClick:this.updateReportData,variant:"dark"},"Refresh Report Data"))),r.a.createElement($.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,null,"Delete Report")),r.a.createElement($.a.Body,null,"Are you sure you want to delete your ",this.state.deleteReportName," report?"),r.a.createElement($.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:function(){e.setState({showModal:!1})}},"Cancel"),r.a.createElement(f.a,{onClick:this.deleteReport,variant:"danger"},"Delete"))),r.a.createElement("div",{style:{width:"80%",margin:"0 auto"}},this.handleAlert(),r.a.createElement("div",{className:"grid"},t.map(function(t,a){return r.a.createElement(H,{showDeleteReportWarning:e.showDeleteReportWarning,changeView:e.props.changeView,report:t,reportIndex:a,key:t.reportid})}))))}}]),t}(r.a.Component)),Q=a(39),X=(a(107),a(60)),Z=[188,13],ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={reportName:"",reportDescription:"",subreddits:[],suggestions:[]},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.handleAddition=a.handleAddition.bind(Object(h.a)(a)),a.handleDrag=a.handleDrag.bind(Object(h.a)(a)),a.createReport=a.createReport.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/getSubreddits").then(function(e){return e.json()}).then(function(t){var a=[];t.forEach(function(e){a.push({text:e.subredditname,id:e.subredditname})}),e.setState({suggestions:a})})}},{key:"handleChange",value:function(e){"reportName"===e.target.id&&this.setState({reportName:e.target.value}),"reportDescription"===e.target.id&&this.setState({reportDescription:e.target.value}),"notifications"===e.target.id&&this.setState({notifications:e.target.checked})}},{key:"createReport",value:function(e){var t=this;e.preventDefault();var a=this.state.subreddits.map(function(e){return e.text});fetch("/createReport",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userID,name:this.state.reportName,description:this.state.reportDescription,subreddits:a,notifications:!1})}).then(function(e){return e.json()}).then(function(e){e.reportCreated&&(t.props.changeView("reports"),t.props.updateReports(e.reportData))})}},{key:"handleClick",value:function(){this.props.changeView("reports")}},{key:"handleDelete",value:function(e){var t=this.state.subreddits;this.setState({subreddits:t.filter(function(t,a){return a!==e})})}},{key:"handleAddition",value:function(e){this.setState(function(t){return{subreddits:[].concat(Object(Q.a)(t.subreddits),[e])}})}},{key:"handleDrag",value:function(e,t,a){var n=Object(Q.a)(this.state.subreddits).slice();n.splice(t,1),n.splice(a,0,e),this.setState({subreddits:n})}},{key:"render",value:function(){var e=this.state,t=e.subreddits,a=e.suggestions;return r.a.createElement(v.a,null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Create Report"),r.a.createElement("p",{className:"lead"},"Use the form below to create a new report."),r.a.createElement(f.a,{onClick:this.handleClick,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{className:"createReportForm",onSubmit:this.createReport},r.a.createElement(O.a.Group,{controlId:"reportName"},r.a.createElement(O.a.Label,null,"Report Name"),r.a.createElement(O.a.Control,{value:this.state.reportName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Report Name"})),r.a.createElement(O.a.Group,{controlId:"reportDescription"},r.a.createElement(O.a.Label,null,"Report Description"),r.a.createElement(O.a.Control,{value:this.state.reportDescription,onChange:this.handleChange,as:"textarea",rows:"3",placeholder:"Enter Report Description (or none at all)"})),r.a.createElement(O.a.Group,{controlId:"subreddits"},r.a.createElement(O.a.Label,null,"Subreddits"),r.a.createElement(X.WithContext,{classNames:{tags:"",tagInput:"tagInputClass",tagInputField:"form-control",selected:"selectedClass",tag:"btn btn-secondary tag-button",remove:"tag-button-remove"},allowDeleteFromEmptyInput:!1,tags:t,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:Z,placeholder:"Add a new subreddit",autofocus:!1})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Create Report")))))}}]),t}(r.a.Component),te=(a(364),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"subredditList"},this.props.subreddits.map(function(t,a){return r.a.createElement(f.a,{onClick:function(t){t.preventDefault(),e.props.updateSubredditIndex(a)},className:"subreddit-button",variant:"secondary",key:a},t)}))}}]),t}(r.a.Component)),ae=(a(365),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"submissions"},r.a.createElement("h2",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.reddit.com/r/"+this.props.subredditName},this.props.subredditName)),this.props.submissions.map(function(e,t){return r.a.createElement("div",{key:t,style:{padding:"3rem",marginBottom:"3rem",border:"solid lightgray 2px",borderRadius:"5px"}},r.a.createElement("p",{className:"lead"},r.a.createElement("a",{style:{color:"#333"},rel:"noopener noreferrer",target:"_blank",href:e.url},e.title)),r.a.createElement("p",null,"Posted By: ",e.handlename),r.a.createElement("div",{style:{marginTop:"1.5rem",marginLeft:"3rem"}},r.a.createElement("p",{className:"lead"},"Top Comments"),e.comments.map(function(e,t){return r.a.createElement("p",{key:t},e.handlename,": ",e.commenttext)})))}))}}]),t}(r.a.Component)),ne=(a(366),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={subredditIndex:0,showSpinner:!1,showModal:!1},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.updateSubredditIndex=a.updateSubredditIndex.bind(Object(h.a)(a)),a.updateReportData=a.updateReportData.bind(Object(h.a)(a)),a.handleSpinner=a.handleSpinner.bind(Object(h.a)(a)),a.showDeleteReportWarning=a.showDeleteReportWarning.bind(Object(h.a)(a)),a.deleteReport=a.deleteReport.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleSpinner",value:function(){return this.state.showSpinner?r.a.createElement(A.a,{size:"sm",animation:"grow",variant:"light"}):"Refresh Report Data"}},{key:"showDeleteReportWarning",value:function(){this.setState({showModal:!0})}},{key:"deleteReport",value:function(e){var t=this;e.preventDefault(),fetch("/deleteReport?userID="+this.props.userInfo.userid+"&reportID="+this.props.report.reportid).then(function(e){return e.json()}).then(function(e){t.props.updateReports(e.reportData),t.props.changeView("reports")})}},{key:"updateReportData",value:function(e){var t=this;e.preventDefault(),fetch("/updateReportData?userID="+this.props.userInfo.userid).then(function(e){return t.setState({showSpinner:!0}),e.json()}).then(function(e){t.setState({showSpinner:!1}),t.props.updateReports(e),t.props.changeView("viewReport",t.props.reportIndex)})}},{key:"updateSubredditIndex",value:function(e){this.setState({subredditIndex:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement($.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement($.a.Header,{closeButton:!0},r.a.createElement($.a.Title,null,"Delete Report")),r.a.createElement($.a.Body,null,"Are you sure you want to delete your ",this.props.report.name," report?"),r.a.createElement($.a.Footer,null,r.a.createElement(f.a,{variant:"secondary",onClick:function(){e.setState({showModal:!1})}},"Cancel"),r.a.createElement(f.a,{onClick:this.deleteReport,variant:"danger"},"Delete"))),r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},this.props.report.name),r.a.createElement("p",{className:"lead"},this.props.report.description),r.a.createElement("div",{className:"button-container"},r.a.createElement(f.a,{className:"action-button",onClick:this.handleClick},"Back to Reports"),r.a.createElement(f.a,{className:"action-button",onClick:this.updateReportData,variant:"dark"},this.handleSpinner()),r.a.createElement(f.a,{className:"action-button",onClick:function(t){t.preventDefault(),e.showDeleteReportWarning()}},"Delete Report"))),r.a.createElement(te,{updateSubredditIndex:this.updateSubredditIndex,subreddits:this.props.report.subreddits}),r.a.createElement(ae,{subredditName:this.props.report.subreddits[this.state.subredditIndex],submissions:this.props.report.submissions[this.state.subredditIndex]}))}}]),t}(r.a.Component)),re=[188,13],se=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={reportName:"",reportDescription:"",subreddits:[],suggestions:[]},a.handleClick=a.handleClick.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleDelete=a.handleDelete.bind(Object(h.a)(a)),a.handleAddition=a.handleAddition.bind(Object(h.a)(a)),a.handleDrag=a.handleDrag.bind(Object(h.a)(a)),a.editReport=a.editReport.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleChange",value:function(e){"reportName"===e.target.id&&this.setState({reportName:e.target.value}),"reportDescription"===e.target.id&&this.setState({reportDescription:e.target.value}),"notifications"===e.target.id&&this.setState({notifications:e.target.checked})}},{key:"handleDelete",value:function(e){var t=this.state.subreddits;this.setState({subreddits:t.filter(function(t,a){return a!==e})})}},{key:"handleAddition",value:function(e){this.setState(function(t){return{subreddits:[].concat(Object(Q.a)(t.subreddits),[e])}})}},{key:"handleDrag",value:function(e,t,a){var n=Object(Q.a)(this.state.subreddits).slice();n.splice(t,1),n.splice(a,0,e),this.setState({subreddits:n})}},{key:"componentDidMount",value:function(){var e=this.props.report.subreddits.map(function(e){return{id:e,text:e}});this.setState({reportName:this.props.report.name,reportDescription:this.props.report.description,subreddits:e})}},{key:"editReport",value:function(e){var t=this;e.preventDefault();var a=this.state.subreddits.map(function(e){return e.text});fetch("/editReport",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,reportID:this.props.report.reportid,name:this.state.reportName,description:this.state.reportDescription,subreddits:a,notifications:!1})}).then(function(e){return e.json()}).then(function(e){e.reportEdited&&(t.props.changeView("reports"),t.props.updateReports(e.reportData))})}},{key:"render",value:function(){var e=this.state,t=e.subreddits,a=e.suggestions;return r.a.createElement(v.a,null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Edit ",this.props.report.name," Report"),r.a.createElement("p",{className:"lead"},"Use the form below to edit the report."),r.a.createElement(f.a,{onClick:this.handleClick,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(k.a,null,r.a.createElement(y.a,null,r.a.createElement(O.a,{className:"editReportForm",onSubmit:this.editReport},r.a.createElement(O.a.Group,{controlId:"reportName"},r.a.createElement(O.a.Label,null,"Report Name"),r.a.createElement(O.a.Control,{value:this.state.reportName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Report Name"})),r.a.createElement(O.a.Group,{controlId:"reportDescription"},r.a.createElement(O.a.Label,null,"Report Description"),r.a.createElement(O.a.Control,{value:this.state.reportDescription,onChange:this.handleChange,as:"textarea",rows:"3",placeholder:"Enter Report Description (or none at all)"})),r.a.createElement(O.a.Group,{controlId:"subreddits"},r.a.createElement(O.a.Label,null,"Subreddits"),r.a.createElement(X.WithContext,{classNames:{tags:"",tagInput:"tagInputClass",tagInputField:"form-control",selected:"selectedClass",tag:"btn btn-secondary tag-button",remove:"tag-button-remove"},allowDeleteFromEmptyInput:!1,tags:t,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:re,placeholder:"Add a new subreddit",autofocus:!1})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Edit Report")))))}}]),t}(r.a.Component),oe=(a(367),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={username:"",email:"",firstName:"",lastName:"",password:"",passwordCheck:"",showAlert:!1,alert:""},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleViewChange=a.handleViewChange.bind(Object(h.a)(a)),a.handleAlert=a.handleAlert.bind(Object(h.a)(a)),a.updateUserInfo=a.updateUserInfo.bind(Object(h.a)(a)),a.changePassword=a.changePassword.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({username:this.props.userInfo.username,email:this.props.userInfo.email,firstName:this.props.userInfo.firstname,lastName:this.props.userInfo.lastname})}},{key:"handleChange",value:function(e){"username"===e.target.id&&this.setState({username:e.target.value}),"email"===e.target.id&&this.setState({email:e.target.value}),"firstName"===e.target.id&&this.setState({firstName:e.target.value}),"lastName"===e.target.id&&this.setState({lastName:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"passwordCheck"===e.target.id&&this.setState({passwordCheck:e.target.value})}},{key:"handleViewChange",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return"Passwords do not match"===this.state.alert?r.a.createElement(N.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"danger"},this.state.alert):r.a.createElement(N.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"success"},this.state.alert)}},{key:"updateUserInfo",value:function(e){var t=this;e.preventDefault(),fetch("/editUser",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,userData:{username:this.state.username,email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName}})}).then(function(e){return e.json()}).then(function(e){t.setState({showAlert:!0,alert:"Your account info has been updated"},function(){window.scrollTo(0,0),t.props.updateUserData(e.userData)})})}},{key:"changePassword",value:function(e){var t=this;e.preventDefault(),this.state.password===this.state.passwordCheck?fetch("/changePassword",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,password:this.state.password})}).then(function(e){return e.json()}).then(function(e){!0===e.passwordChanged&&t.setState({showAlert:!0,alert:"Your password has been changed"},function(){window.scrollTo(0,0)})}):this.setState({showAlert:!0,alert:"Passwords do not match"},function(){window.scrollTo(0,0)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Account Settings"),r.a.createElement("p",{className:"lead"},"Use the form below to edit your account settings."),r.a.createElement(f.a,{onClick:this.handleViewChange,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(O.a,{onSubmit:this.updateUserInfo,className:"signup-form"},this.handleAlert(),r.a.createElement("h2",null,"User Info"),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Username"),r.a.createElement(O.a.Control,{value:this.state.username,id:"username",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Username"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Email"),r.a.createElement(O.a.Control,{value:this.state.email,id:"email",onChange:this.handleChange,required:"required",type:"email",placeholder:"Enter your Email"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"First Name"),r.a.createElement(O.a.Control,{value:this.state.firstName,id:"firstName",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your First Name"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Last Name"),r.a.createElement(O.a.Control,{value:this.state.lastName,id:"lastName",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your Last Name"})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Update User Info")),r.a.createElement(O.a,{style:{marginTop:"3rem"},className:"signup-form password-form",onSubmit:this.changePassword},r.a.createElement("h2",null,"Change Password"),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"New Password"),r.a.createElement(O.a.Control,{value:this.state.password,id:"password",onChange:this.handleChange,required:"required",type:"password",placeholder:"Enter a Username"})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,null,"Re-type Password"),r.a.createElement(O.a.Control,{value:this.state.passwordCheck,id:"passwordCheck",onChange:this.handleChange,required:"required",type:"password",placeholder:"Enter your Email"})),r.a.createElement(f.a,{variant:"dark",type:"submit",block:!0},"Change Password")))}}]),t}(r.a.Component)),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={show:"reports",reportIndex:0},a.handleView=a.handleView.bind(Object(h.a)(a)),a.changeView=a.changeView.bind(Object(h.a)(a)),a.logout=a.logout.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleView",value:function(){if(window.scrollTo(0,0),"reports"===this.state.show)return r.a.createElement(K,{updateReports:this.props.updateReports,changeView:this.changeView,userInfo:this.props.userData,reports:this.props.reports});if("createReport"===this.state.show)return r.a.createElement(ee,{updateReports:this.props.updateReports,userID:this.props.userData.userid,changeView:this.changeView});if("viewReport"===this.state.show){var e=this.props.reports.toArray();return r.a.createElement(ne,{reportIndex:this.state.reportIndex,report:e[this.state.reportIndex],changeView:this.changeView,userInfo:this.props.userData,updateReports:this.props.updateReports})}if("editReport"===this.state.show){var t=this.props.reports.toArray();return r.a.createElement(se,{reportIndex:this.state.reportIndex,report:t[this.state.reportIndex],changeView:this.changeView,userInfo:this.props.userData,updateReports:this.props.updateReports})}return r.a.createElement(oe,{userInfo:this.props.userData,changeView:this.changeView,updateUserData:this.props.updateUserData})}},{key:"changeView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.scrollTo(0,0),"viewReport"===e||"editReport"===e?this.setState({show:e,reportIndex:t}):this.setState({show:e})}},{key:"logout",value:function(){var e=this;fetch("/logout").then(function(e){return e.json()}).then(function(t){t.loggedOut&&e.props.handleLogout()})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W.a,{style:{display:"flex",justifyContent:"space-between"},bg:"dark",variant:"dark"},r.a.createElement(W.a.Brand,{style:{cursor:"pointer"},onClick:function(){e.changeView("reports")}},"Reddit Aggregator"),r.a.createElement(B.a,{variant:"secondary",id:"dropdown-basic-button",title:"Menu",alignRight:!0},r.a.createElement(q.a.Item,{onClick:function(){e.setState({show:"reports"})}},"Reports"),r.a.createElement(q.a.Item,{onClick:function(){e.setState({show:"createReport"})}},"Create Report"),r.a.createElement(q.a.Item,{onClick:function(){e.setState({show:"AccountSettings"})}},"Account Settings"),r.a.createElement(q.a.Item,{onClick:function(){e.logout()}},"Logout"))),this.handleView())}}]),t}(r.a.Component),le=a(61),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={userData:null,loggedIn:!1,serverChecked:!1,initialLoad:!0,reports:[]},a.handleDisplay=a.handleDisplay.bind(Object(h.a)(a)),a.handleLogin=a.handleLogin.bind(Object(h.a)(a)),a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a.updateReports=a.updateReports.bind(Object(h.a)(a)),a.updateUserData=a.updateUserData.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/checkLoginStatus").then(function(e){return e.json()}).then(function(t){var a=Object(le.a)(t.reportData);e.setState({loggedIn:t.loggedIn,userData:t.userData,serverChecked:!0,initialLoad:!1,reports:a})})}},{key:"updateReports",value:function(e){var t=Object(le.a)(e);this.setState({reports:t})}},{key:"updateUserData",value:function(e){console.log(e),this.setState({userData:e})}},{key:"handleDisplay",value:function(){if(!this.state.initialLoad)return this.state.loggedIn?r.a.createElement(ie,{updateReports:this.updateReports,updateUserData:this.updateUserData,reports:this.state.reports,userData:this.state.userData,handleLogout:this.handleLogout}):r.a.createElement(U,{handleLogin:this.handleLogin})}},{key:"handleLogin",value:function(e){var t=Object(le.a)(e.reportData);this.setState({userData:e.userData,loggedIn:e.loggedIn,reports:t})}},{key:"handleLogout",value:function(){this.setState({userData:{},loggedIn:!1,reports:[]})}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},this.handleDisplay())}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[156,1,2]]]);
//# sourceMappingURL=main.304b219e.chunk.js.map