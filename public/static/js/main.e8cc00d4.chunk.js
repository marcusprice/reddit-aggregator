(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{136:function(e,t,a){e.exports=a(330)},141:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){},330:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),o=a.n(s),i=a(54),l=a(9),c=a(10),d=a(12),h=a(11),u=a(6),p=a(13),m=a(21),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.handleToggle("loginForm")}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("h1",{style:{cursor:"pointer"},onClick:function(){e.handleClick()},className:"display-4"},"Reddit Aggregator"),r.a.createElement("p",{className:"lead"},"Personalized web app to collect the best daily Reddit submissions"))}}]),t}(r.a.Component),b=a(8),f=a(16),w=a(23),v=a(18),E=a(3),C=a(19),k=(a(141),a(65)),y=a.n(k),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={handle:"",password:"",rememberMe:0,showAlert:!1,alert:"",showLoader:!1},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleAlert=a.handleAlert.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){"handle"===e.target.id&&this.setState({handle:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"rememberMe"===e.target.id&&this.setState({rememberMe:e.target.checked})}},{key:"handleSubmit",value:function(e){var t=this;this.setState({showLoader:!0}),e.preventDefault(),fetch("/login?handle="+this.state.handle+"&password="+this.state.password+"&rememberMe="+this.state.rememberMe).then((function(e){return e.json(e)})).then((function(e){var a;e.loggedIn?t.props.handleLogin(e):(a="password didn't match"===e.reason?"Incorrect Password":"Incorrect Username or Email",t.setState({showAlert:!0,showLoader:!1,alert:a}))}))}},{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return r.a.createElement(C.a,{dismissible:!0,onClose:function(){e.setState({showAlert:!1})},variant:"danger"},this.state.alert)}},{key:"handleLoader",value:function(){return this.state.showLoader?r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(y.a,{type:"BallTriangle",color:"#343a40",height:100,width:100})):r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Login")}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{className:"login-form"},r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{onSubmit:this.handleSubmit},this.handleAlert(),r.a.createElement("h3",null,"Please Sign In"),r.a.createElement(E.a.Group,{controlId:"handle"},r.a.createElement(E.a.Label,null,"Username or Email"),r.a.createElement(E.a.Control,{value:this.state.handle,onChange:this.handleChange,type:"text",placeholder:"Enter Username or Email"})),r.a.createElement(E.a.Group,{controlId:"password"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{value:this.state.password,onChange:this.handleChange,type:"password",placeholder:"Password"})),r.a.createElement(E.a.Group,{controlId:"rememberMe"},r.a.createElement(E.a.Check,{onChange:this.handleChange,type:"checkbox",label:"Remember Me"})),this.handleLoader()),r.a.createElement("p",{onClick:function(){e.handleClick("about")}},"New Here? Learn More & Sign Up!"),r.a.createElement("p",{onClick:function(){e.handleClick("forgotPassword")}},"Forgot Password?"))))}}]),t}(r.a.Component),O=(a(165),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{className:"about"},r.a.createElement("h2",null,"Who has time to be on Reddit all day?"),r.a.createElement("p",null,"Many Reddit posts get submitted throughout the day, and unless you can constantly check your reddit feed some content may be missed and buried by other submissions."),r.a.createElement("p",null,"Reddit Aggregator helps mitigate this problem by allowing you to create an account and submit a list of subreddits you enjoy. Reddit Aggregator will check the subreddits hourly and compile a list of entries throughout the day that match the subreddits you provide. These entries are bundled together into a nice readable format called a report. Users can have several reports for different purposes (each having their own set of subreddits)."),r.a.createElement("p",{className:"lead"},"Sound cool? Go ahead and sign up, it just takes a minute."),r.a.createElement(f.a,{style:{textAlign:"center"},className:"about-button-conatiner"},r.a.createElement(b.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("signUpForm")}},"Sign Up"),r.a.createElement(b.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In")))}}]),t}(r.a.Component)),S=(a(166),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.createNewUser=a.createNewUser.bind(Object(u.a)(a)),a.handleAlert=a.handleAlert.bind(Object(u.a)(a)),a.state={username:"",email:"",password:"",passwordCheck:"",firstName:"",lastName:"",showWarning:!1,warning:""},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"handleChange",value:function(e){"username"===e.target.id&&this.setState({username:e.target.value}),"email"===e.target.id&&this.setState({email:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"passwordCheck"===e.target.id&&this.setState({passwordCheck:e.target.value}),"firstName"===e.target.id&&this.setState({firstName:e.target.value}),"lastName"===e.target.id&&this.setState({lastName:e.target.value})}},{key:"handleAlert",value:function(){var e=this;if(this.state.showWarning)return window.scrollTo(0,0),r.a.createElement(C.a,{onClose:function(){e.setState({showWarning:!1,alertShown:!1})},dismissible:!0,variant:"danger"},this.state.warning)}},{key:"createNewUser",value:function(e){var t=this;e.preventDefault(),this.state.password===this.state.passwordCheck?fetch("/createUser",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({username:this.state.username,email:this.state.email,password:this.state.password,firstName:this.state.firstName,lastName:this.state.lastName})}).then((function(e){return e.json()})).then((function(e){e.userCreated||"Error: username or email already exists"===e.reason&&t.setState({showWarning:!0,warning:"Username and/or Email Already In Use"})})):this.setState({showWarning:!0,warning:"Passwords Do Not Match"})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{className:"signup-form"},this.handleAlert(),r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{className:"signupForm",onSubmit:this.createNewUser},r.a.createElement("h3",null,"Sign Up"),r.a.createElement(E.a.Group,{controlId:"username"},r.a.createElement(E.a.Label,null,"Username"),r.a.createElement(E.a.Control,{value:this.state.username,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Username"})),r.a.createElement(E.a.Group,{controlId:"email"},r.a.createElement(E.a.Label,null,"Email"),r.a.createElement(E.a.Control,{value:this.state.email,onChange:this.handleChange,required:"required",type:"email",placeholder:"Enter your Email"})),r.a.createElement(E.a.Group,{controlId:"password"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{value:this.state.password,onChange:this.handleChange,required:"required",type:"password",placeholder:"Password"})),r.a.createElement(E.a.Group,{controlId:"passwordCheck"},r.a.createElement(E.a.Label,null,"Retype Password"),r.a.createElement(E.a.Control,{value:this.state.passwordCheck,onChange:this.handleChange,required:"required",type:"password",placeholder:"Password"})),r.a.createElement(E.a.Group,{controlId:"firstName"},r.a.createElement(E.a.Label,null,"First Name"),r.a.createElement(E.a.Control,{value:this.state.firstName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your First Name"})),r.a.createElement(E.a.Group,{controlId:"lastName"},r.a.createElement(E.a.Label,null,"Last Name"),r.a.createElement(E.a.Control,{value:this.state.lastName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your Last Name"})),r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Create Account")))),r.a.createElement(f.a,{style:{textAlign:"center",marginBottom:"2rem"},className:"singup-button-conatiner"},r.a.createElement(b.a,{size:"sm",variant:"dark",className:"signup-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In"),r.a.createElement(b.a,{size:"sm",variant:"dark",className:"signup-button",onClick:function(){e.handleClick("about")}},"Back to About")))}}]),t}(r.a.Component)),D=a(70),R=(a(167),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={email:""},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.handleButtonText=a.handleButtonText.bind(Object(u.a)(a)),a.warning=a.warning.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){this.props.handleToggle(e)}},{key:"handleButtonText",value:function(){return this.props.spinner?r.a.createElement(D.a,{size:"sm",animation:"grow",variant:"light"}):"Send Temporary Password"}},{key:"warning",value:function(){var e=this;if(this.props.showWarning)return r.a.createElement(C.a,{onClose:function(){e.props.closeWarning()},dismissible:!0,variant:"danger"},"That Email Is Not Registered")}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.requestNewPassword(this.state.email)}},{key:"handleChange",value:function(e){"email"===e.target.id&&this.setState({email:e.target.value})}},{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{className:"forgot-password-form"},r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{onSubmit:this.handleSubmit},this.warning(),r.a.createElement("h3",null,"Forgot Password"),r.a.createElement(E.a.Group,{controlId:"email"},r.a.createElement(E.a.Label,null,"Enter Your Email"),r.a.createElement(E.a.Control,{value:this.state.email,onChange:this.handleChange,type:"email",placeholder:"Enter Email"})),r.a.createElement(b.a,{className:"forgot-password-button",variant:"dark",type:"submit",block:!0},this.handleButtonText())))),r.a.createElement(f.a,{style:{textAlign:"center"},className:"forgot-password-button-conatiner"},r.a.createElement(b.a,{size:"sm",variant:"dark",className:"about-button",onClick:function(){e.handleClick("loginForm")}},"Back to Sign In")))}}]),t}(r.a.Component)),N=(a(168),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(){this.props.handleToggle("loginForm")}},{key:"render",value:function(){return r.a.createElement(f.a,{className:"new-password-sent-container"},r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement("p",{className:"lead"},"A temporary password has been sent to your email."),r.a.createElement(b.a,{onClick:this.handleClick,variant:"dark"},"Return to Sign In"))))}}]),t}(r.a.Component)),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={showForm:!0,showSpinner:!1,showWarning:!1},a.requestNewPassword=a.requestNewPassword.bind(Object(u.a)(a)),a.handleDisplay=a.handleDisplay.bind(Object(u.a)(a)),a.closeWarning=a.closeWarning.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleDisplay",value:function(){return this.state.showForm?r.a.createElement(R,{handleToggle:this.props.handleToggle,requestNewPassword:this.requestNewPassword,spinner:this.state.showSpinner,showWarning:this.state.showWarning,closeWarning:this.closeWarning}):r.a.createElement(N,{handleToggle:this.props.handleToggle})}},{key:"closeWarning",value:function(){this.setState({showWarning:!1})}},{key:"requestNewPassword",value:function(e){var t=this;this.setState({showSpinner:!0}),fetch("/forgotPassword",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({email:e})}).then((function(e){return e.json()})).then((function(e){e.result?t.setState({showForm:!1,showSpinner:!1}):t.setState({showTrue:!1,showSpinner:!1,showWarning:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.handleDisplay())}}]),t}(r.a.Component),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={show:"loginForm"},a.handleDisplay=a.handleDisplay.bind(Object(u.a)(a)),a.handleToggle=a.handleToggle.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleToggle",value:function(e){window.scrollTo(0,0),"loginForm"===e?this.setState({show:"loginForm"}):"about"===e?this.setState({show:"about"}):"signUpForm"===e?this.setState({show:"signUpForm"}):this.setState({show:"forgotPassword"})}},{key:"handleDisplay",value:function(){return"loginForm"===this.state.show?r.a.createElement(j,{handleLogin:this.props.handleLogin,handleToggle:this.handleToggle}):"about"===this.state.show?r.a.createElement(O,{handleToggle:this.handleToggle}):"signUpForm"===this.state.show?r.a.createElement(S,{handleToggle:this.handleToggle}):r.a.createElement(I,{handleToggle:this.handleToggle})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{handleToggle:this.handleToggle}),this.handleDisplay())}}]),t}(r.a.Component),A=a(87),T=a(33),F=a(134),L=a(47),P=a(132),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleTitleClick=a.handleTitleClick.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),"viewReport"===e.target.id&&this.props.changeView("viewReport",this.props.reportIndex),"editReport"===e.target.id&&this.props.changeView("editReport",this.props.reportIndex),"deleteReport"===e.target.id&&this.props.showDeleteReportWarning(this.props.reportIndex)}},{key:"handleTitleClick",value:function(){this.props.changeView("viewReport",this.props.reportIndex)}},{key:"render",value:function(){return r.a.createElement(L.a,{style:{width:"19rem",marginBottom:"3rem"}},r.a.createElement(L.a.Header,{variant:"dark"},"RA Report"),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Title,{onClick:this.handleTitleClick,style:{cursor:"pointer"}},this.props.report.name),r.a.createElement(L.a.Text,null,this.props.report.description),r.a.createElement(P.a,null,r.a.createElement(b.a,{id:"viewReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"View"),r.a.createElement(b.a,{id:"editReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"Edit"),r.a.createElement(b.a,{id:"deleteReport",size:"sm",variant:"outline-secondary",onClick:this.handleClick},"Delete"))))}}]),t}(r.a.Component),W=a(25),V=(a(169),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={showAlert:!1,showModal:!1,deleteReportName:"",deleteReportID:0,plurals:""},a.createReport=a.createReport.bind(Object(u.a)(a)),a.showDeleteReportWarning=a.showDeleteReportWarning.bind(Object(u.a)(a)),a.updateReportData=a.updateReportData.bind(Object(u.a)(a)),a.deleteReport=a.deleteReport.bind(Object(u.a)(a)),a.handleAlert=a.handleAlert.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return r.a.createElement(C.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"success"},"All Reports Updated")}},{key:"createReport",value:function(e){e.preventDefault(),this.props.changeView("createReport")}},{key:"showDeleteReportWarning",value:function(e){var t=this.props.reports.toArray();this.setState({showModal:!0,deleteReportName:t[e].name,deleteReportID:t[e].reportid})}},{key:"updateReportData",value:function(e){var t=this;e.preventDefault(),fetch("/updateReportData?userID="+this.props.userInfo.userid).then((function(e){return e.json()})).then((function(e){t.props.updateReports(e),t.setState({showAlert:!0})}))}},{key:"deleteReport",value:function(e){var t=this;e.preventDefault(),fetch("/deleteReport?userID="+this.props.userInfo.userid+"&reportID="+this.state.deleteReportID).then((function(e){return e.json()})).then((function(e){t.props.updateReports(e.reportData),t.setState({showModal:!1})}))}},{key:"handlePlural",value:function(){var e;switch(this.props.reports.size){case 0:e='Click "Create Report" to make your first report!';break;case 1:e='Below is your report. Click "Create Report" to make another.';break;default:e="Below are your reports."}this.state.plurals!==e&&this.setState({plurals:e})}},{key:"componentDidMount",value:function(){this.handlePlural()}},{key:"componentDidUpdate",value:function(){this.handlePlural()}},{key:"render",value:function(){var e=this,t=this.props.reports.toArray();return r.a.createElement("div",null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Reports"),r.a.createElement("p",{className:"lead"},"Welcome ",this.props.userInfo.firstname,"! ",this.state.plurals),r.a.createElement("div",{className:"button-container"},r.a.createElement(b.a,{className:"action-button",onClick:this.createReport},"Create New Report"),r.a.createElement(b.a,{className:"action-button",onClick:this.updateReportData,variant:"dark"},"Refresh Report Data"))),r.a.createElement(W.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Delete Report")),r.a.createElement(W.a.Body,null,"Are you sure you want to delete your ",this.state.deleteReportName," report?"),r.a.createElement(W.a.Footer,null,r.a.createElement(b.a,{variant:"secondary",onClick:function(){e.setState({showModal:!1})}},"Cancel"),r.a.createElement(b.a,{onClick:this.deleteReport,variant:"danger"},"Delete"))),r.a.createElement("div",{style:{width:"80%",margin:"0 auto"}},this.handleAlert(),r.a.createElement("div",{className:"grid"},t.map((function(t,a){return r.a.createElement(U,{showDeleteReportWarning:e.showDeleteReportWarning,changeView:e.props.changeView,report:t,reportIndex:a,key:t.reportid})})))))}}]),t}(r.a.Component)),q=a(46),B=(a(89),a(72)),M=[188,13],G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={reportName:"",reportDescription:"",subreddits:[],suggestions:[],showAlert:!1},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.handleAddition=a.handleAddition.bind(Object(u.a)(a)),a.handleDrag=a.handleDrag.bind(Object(u.a)(a)),a.createReport=a.createReport.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleAlert=a.handleAlert.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/getSubreddits").then((function(e){return e.json()})).then((function(t){var a=[];t.forEach((function(e){a.push({text:e.subredditname,id:e.subredditname})})),e.setState({suggestions:a})}))}},{key:"handleChange",value:function(e){"reportName"===e.target.id&&this.setState({reportName:e.target.value}),"reportDescription"===e.target.id&&this.setState({reportDescription:e.target.value}),"notifications"===e.target.id&&this.setState({notifications:e.target.checked})}},{key:"createReport",value:function(e){var t=this;if(e.preventDefault(),this.state.subreddits.length<1)this.setState({showAlert:!0});else{var a=this.state.subreddits.map((function(e){return e.text}));fetch("/createReport",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userID,name:this.state.reportName,description:this.state.reportDescription,subreddits:a,notifications:!1})}).then((function(e){return e.json()})).then((function(e){e.reportCreated&&(t.props.changeView("reports"),t.props.updateReports(e.reportData))}))}}},{key:"handleClick",value:function(){this.props.changeView("reports")}},{key:"handleDelete",value:function(e){var t=this.state.subreddits;this.setState({subreddits:t.filter((function(t,a){return a!==e}))})}},{key:"handleAddition",value:function(e){this.setState((function(t){return{subreddits:[].concat(Object(q.a)(t.subreddits),[e])}}))}},{key:"handleDrag",value:function(e,t,a){var n=Object(q.a)(this.state.subreddits).slice();n.splice(t,1),n.splice(a,0,e),this.setState({subreddits:n})}},{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return r.a.createElement(C.a,{variant:"danger",onClose:function(){e.setState({showAlert:!1})},dismissible:!0},"You need at least 1 subreddit to create a report")}},{key:"render",value:function(){var e=this.state,t=e.subreddits,a=e.suggestions;return r.a.createElement(f.a,null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Create Report"),r.a.createElement("p",{className:"lead"},"Use the form below to create a new report."),r.a.createElement(b.a,{onClick:this.handleClick,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{className:"createReportForm",onSubmit:this.createReport},this.handleAlert(),r.a.createElement(E.a.Group,{controlId:"reportName"},r.a.createElement(E.a.Label,null,"Report Name"),r.a.createElement(E.a.Control,{value:this.state.reportName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Report Name"})),r.a.createElement(E.a.Group,{controlId:"reportDescription"},r.a.createElement(E.a.Label,null,"Report Description"),r.a.createElement(E.a.Control,{value:this.state.reportDescription,onChange:this.handleChange,as:"textarea",rows:"3",placeholder:"Enter Report Description (or none at all)"})),r.a.createElement(E.a.Group,{controlId:"subreddits"},r.a.createElement(E.a.Label,null,"Subreddits"),r.a.createElement(B.WithContext,{classNames:{tags:"",tagInput:"tagInputClass",tagInputField:"form-control",selected:"selectedClass",tag:"btn btn-secondary tag-button",remove:"tag-button-remove"},allowDeleteFromEmptyInput:!1,tags:t,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:M,placeholder:"Add a new subreddit",autofocus:!1})),r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Create Report")))))}}]),t}(r.a.Component),z=(a(325),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"subredditList"},this.props.subreddits.map((function(t,a){return r.a.createElement(b.a,{onClick:function(t){t.preventDefault(),e.props.updateSubredditIndex(a)},className:"subreddit-button",variant:"secondary",key:a},t)})))}}]),t}(r.a.Component)),J=(a(326),function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"submissions"},r.a.createElement("h2",null,r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://www.reddit.com/r/"+this.props.subredditName},this.props.subredditName)),this.props.submissions.map((function(e,t){return r.a.createElement("div",{key:t,style:{padding:"3rem",marginBottom:"3rem",border:"solid lightgray 2px",borderRadius:"5px"}},r.a.createElement("p",{className:"lead"},r.a.createElement("a",{style:{color:"#333"},rel:"noopener noreferrer",target:"_blank",href:e.url},e.title)),r.a.createElement("p",null,"Posted By: ",e.handlename),r.a.createElement("div",{style:{marginTop:"1.5rem",marginLeft:"3rem"}},r.a.createElement("p",{className:"lead"},"Top Comments"),e.comments.map((function(e,t){return r.a.createElement("p",{key:t},e.handlename,": ",e.commenttext)}))))})))}}]),t}(r.a.Component)),Y=(a(327),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={subredditIndex:0,showSpinner:!1,showModal:!1},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.updateSubredditIndex=a.updateSubredditIndex.bind(Object(u.a)(a)),a.updateReportData=a.updateReportData.bind(Object(u.a)(a)),a.handleSpinner=a.handleSpinner.bind(Object(u.a)(a)),a.showDeleteReportWarning=a.showDeleteReportWarning.bind(Object(u.a)(a)),a.deleteReport=a.deleteReport.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleSpinner",value:function(){return this.state.showSpinner?r.a.createElement(D.a,{size:"sm",animation:"grow",variant:"light"}):"Refresh Report Data"}},{key:"showDeleteReportWarning",value:function(){this.setState({showModal:!0})}},{key:"deleteReport",value:function(e){var t=this;e.preventDefault(),fetch("/deleteReport?userID="+this.props.userInfo.userid+"&reportID="+this.props.report.reportid).then((function(e){return e.json()})).then((function(e){t.props.updateReports(e.reportData),t.props.changeView("reports")}))}},{key:"updateReportData",value:function(e){var t=this;e.preventDefault(),fetch("/updateReportData?userID="+this.props.userInfo.userid).then((function(e){return t.setState({showSpinner:!0}),e.json()})).then((function(e){t.setState({showSpinner:!1}),t.props.updateReports(e),t.props.changeView("viewReport",t.props.reportIndex)}))}},{key:"updateSubredditIndex",value:function(e){this.setState({subredditIndex:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(W.a,{show:this.state.showModal,onHide:function(){return e.setState({showModal:!1})}},r.a.createElement(W.a.Header,{closeButton:!0},r.a.createElement(W.a.Title,null,"Delete Report")),r.a.createElement(W.a.Body,null,"Are you sure you want to delete your ",this.props.report.name," report?"),r.a.createElement(W.a.Footer,null,r.a.createElement(b.a,{variant:"secondary",onClick:function(){e.setState({showModal:!1})}},"Cancel"),r.a.createElement(b.a,{onClick:this.deleteReport,variant:"danger"},"Delete"))),r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},this.props.report.name),r.a.createElement("p",{className:"lead"},this.props.report.description),r.a.createElement("div",{className:"button-container"},r.a.createElement(b.a,{className:"action-button",onClick:this.handleClick},"Back to Reports"),r.a.createElement(b.a,{className:"action-button",onClick:this.updateReportData,variant:"dark"},this.handleSpinner()),r.a.createElement(b.a,{className:"action-button",onClick:function(t){t.preventDefault(),e.showDeleteReportWarning()}},"Delete Report"))),r.a.createElement(z,{updateSubredditIndex:this.updateSubredditIndex,subreddits:this.props.report.subreddits}),r.a.createElement(J,{subredditName:this.props.report.subreddits[this.state.subredditIndex],submissions:this.props.report.submissions[this.state.subredditIndex]}))}}]),t}(r.a.Component)),H=[188,13],_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={reportName:"",reportDescription:"",subreddits:[],suggestions:[]},a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleDelete=a.handleDelete.bind(Object(u.a)(a)),a.handleAddition=a.handleAddition.bind(Object(u.a)(a)),a.handleDrag=a.handleDrag.bind(Object(u.a)(a)),a.editReport=a.editReport.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleChange",value:function(e){"reportName"===e.target.id&&this.setState({reportName:e.target.value}),"reportDescription"===e.target.id&&this.setState({reportDescription:e.target.value}),"notifications"===e.target.id&&this.setState({notifications:e.target.checked})}},{key:"handleDelete",value:function(e){var t=this.state.subreddits;this.setState({subreddits:t.filter((function(t,a){return a!==e}))})}},{key:"handleAddition",value:function(e){this.setState((function(t){return{subreddits:[].concat(Object(q.a)(t.subreddits),[e])}}))}},{key:"handleDrag",value:function(e,t,a){var n=Object(q.a)(this.state.subreddits).slice();n.splice(t,1),n.splice(a,0,e),this.setState({subreddits:n})}},{key:"componentDidMount",value:function(){var e=this.props.report.subreddits.map((function(e){return{id:e,text:e}}));this.setState({reportName:this.props.report.name,reportDescription:this.props.report.description,subreddits:e})}},{key:"editReport",value:function(e){var t=this;e.preventDefault();var a=this.state.subreddits.map((function(e){return e.text}));fetch("/editReport",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,reportID:this.props.report.reportid,name:this.state.reportName,description:this.state.reportDescription,subreddits:a,notifications:!1})}).then((function(e){return e.json()})).then((function(e){e.reportEdited&&(t.props.changeView("reports"),t.props.updateReports(e.reportData))}))}},{key:"render",value:function(){var e=this.state,t=e.subreddits,a=e.suggestions;return r.a.createElement(f.a,null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Edit ",this.props.report.name," Report"),r.a.createElement("p",{className:"lead"},"Use the form below to edit the report."),r.a.createElement(b.a,{onClick:this.handleClick,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(w.a,null,r.a.createElement(v.a,null,r.a.createElement(E.a,{className:"editReportForm",onSubmit:this.editReport},r.a.createElement(E.a.Group,{controlId:"reportName"},r.a.createElement(E.a.Label,null,"Report Name"),r.a.createElement(E.a.Control,{value:this.state.reportName,onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Report Name"})),r.a.createElement(E.a.Group,{controlId:"reportDescription"},r.a.createElement(E.a.Label,null,"Report Description"),r.a.createElement(E.a.Control,{value:this.state.reportDescription,onChange:this.handleChange,as:"textarea",rows:"3",placeholder:"Enter Report Description (or none at all)"})),r.a.createElement(E.a.Group,{controlId:"subreddits"},r.a.createElement(E.a.Label,null,"Subreddits"),r.a.createElement(B.WithContext,{classNames:{tags:"",tagInput:"tagInputClass",tagInputField:"form-control",selected:"selectedClass",tag:"btn btn-secondary tag-button",remove:"tag-button-remove"},allowDeleteFromEmptyInput:!1,tags:t,suggestions:a,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:H,placeholder:"Add a new subreddit",autofocus:!1})),r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Edit Report")))))}}]),t}(r.a.Component),$=(a(328),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={username:"",email:"",firstName:"",lastName:"",password:"",passwordCheck:"",showAlert:!1,alert:""},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleViewChange=a.handleViewChange.bind(Object(u.a)(a)),a.handleAlert=a.handleAlert.bind(Object(u.a)(a)),a.updateUserInfo=a.updateUserInfo.bind(Object(u.a)(a)),a.changePassword=a.changePassword.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({username:this.props.userInfo.username,email:this.props.userInfo.email,firstName:this.props.userInfo.firstname,lastName:this.props.userInfo.lastname})}},{key:"handleChange",value:function(e){"username"===e.target.id&&this.setState({username:e.target.value}),"email"===e.target.id&&this.setState({email:e.target.value}),"firstName"===e.target.id&&this.setState({firstName:e.target.value}),"lastName"===e.target.id&&this.setState({lastName:e.target.value}),"password"===e.target.id&&this.setState({password:e.target.value}),"passwordCheck"===e.target.id&&this.setState({passwordCheck:e.target.value})}},{key:"handleViewChange",value:function(e){e.preventDefault(),this.props.changeView("reports")}},{key:"handleAlert",value:function(){var e=this;if(this.state.showAlert)return"Passwords do not match"===this.state.alert||"Username and/or Email already in use"===this.state.alert?r.a.createElement(C.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"danger"},this.state.alert):r.a.createElement(C.a,{onClose:function(){e.setState({showAlert:!1})},dismissible:!0,variant:"success"},this.state.alert)}},{key:"updateUserInfo",value:function(e){var t=this;e.preventDefault(),fetch("/editUser",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,userData:{username:this.state.username,email:this.state.email,firstName:this.state.firstName,lastName:this.state.lastName}})}).then((function(e){return e.json()})).then((function(e){e.userEdited?t.setState({showAlert:!0,alert:"Your account info has been updated"},(function(){window.scrollTo(0,0),t.props.updateUserData(e.userData)})):t.setState({showAlert:!0,alert:"Username and/or Email already in use"},(function(){window.scrollTo(0,0)}))}))}},{key:"changePassword",value:function(e){var t=this;e.preventDefault(),this.state.password===this.state.passwordCheck?fetch("/changePassword",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify({userID:this.props.userInfo.userid,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){!0===e.passwordChanged&&t.setState({showAlert:!0,alert:"Your password has been changed"},(function(){window.scrollTo(0,0)}))})):this.setState({showAlert:!0,alert:"Passwords do not match"},(function(){window.scrollTo(0,0)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,{style:{backgroundColor:"#FFF",textAlign:"center",padding:"92px 0px 92px 0px"}},r.a.createElement("h1",{style:{fontWeight:"300"}},"Account Settings"),r.a.createElement("p",{className:"lead"},"Use the form below to edit your account settings."),r.a.createElement(b.a,{onClick:this.handleViewChange,style:{marginRight:"1rem"}},"Back to Reports")),r.a.createElement(E.a,{onSubmit:this.updateUserInfo,className:"signup-form"},this.handleAlert(),r.a.createElement("h2",null,"User Info"),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Username"),r.a.createElement(E.a.Control,{value:this.state.username,id:"username",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter a Username"})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Email"),r.a.createElement(E.a.Control,{value:this.state.email,id:"email",onChange:this.handleChange,required:"required",type:"email",placeholder:"Enter your Email"})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"First Name"),r.a.createElement(E.a.Control,{value:this.state.firstName,id:"firstName",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your First Name"})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Last Name"),r.a.createElement(E.a.Control,{value:this.state.lastName,id:"lastName",onChange:this.handleChange,required:"required",type:"text",placeholder:"Enter Your Last Name"})),r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Update User Info")),r.a.createElement(E.a,{style:{marginTop:"3rem"},className:"signup-form password-form",onSubmit:this.changePassword},r.a.createElement("h2",null,"Change Password"),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"New Password"),r.a.createElement(E.a.Control,{value:this.state.password,id:"password",onChange:this.handleChange,required:"required",type:"password",placeholder:"Enter a Username"})),r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Re-type Password"),r.a.createElement(E.a.Control,{value:this.state.passwordCheck,id:"passwordCheck",onChange:this.handleChange,required:"required",type:"password",placeholder:"Enter your Email"})),r.a.createElement(b.a,{variant:"dark",type:"submit",block:!0},"Change Password")))}}]),t}(r.a.Component)),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={show:"reports",reportIndex:0},a.handleView=a.handleView.bind(Object(u.a)(a)),a.changeView=a.changeView.bind(Object(u.a)(a)),a.logout=a.logout.bind(Object(u.a)(a)),a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleView",value:function(){if(window.scrollTo(0,0),"reports"===this.state.show)return r.a.createElement(V,{updateReports:this.props.updateReports,changeView:this.changeView,userInfo:this.props.userData,reports:this.props.reports});if("createReport"===this.state.show)return r.a.createElement(G,{updateReports:this.props.updateReports,userID:this.props.userData.userid,changeView:this.changeView});if("viewReport"===this.state.show){var e=this.props.reports.toArray();return r.a.createElement(Y,{reportIndex:this.state.reportIndex,report:e[this.state.reportIndex],changeView:this.changeView,userInfo:this.props.userData,updateReports:this.props.updateReports})}if("editReport"===this.state.show){var t=this.props.reports.toArray();return r.a.createElement(_,{reportIndex:this.state.reportIndex,report:t[this.state.reportIndex],changeView:this.changeView,userInfo:this.props.userData,updateReports:this.props.updateReports})}return r.a.createElement($,{userInfo:this.props.userData,changeView:this.changeView,updateUserData:this.props.updateUserData})}},{key:"changeView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;window.scrollTo(0,0),"viewReport"===e||"editReport"===e?this.setState({show:e,reportIndex:t}):this.setState({show:e})}},{key:"logout",value:function(){var e=this;fetch("/logout").then((function(e){return e.json()})).then((function(t){t.loggedOut&&e.props.handleLogout()}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(A.a,{style:{display:"flex",justifyContent:"space-between"},bg:"dark",variant:"dark"},r.a.createElement(A.a.Brand,{style:{cursor:"pointer"},onClick:function(){e.changeView("reports")}},"Reddit Aggregator"),r.a.createElement(F.a,{variant:"secondary",id:"dropdown-basic-button",title:"Menu",alignRight:!0},r.a.createElement(T.a.Item,{onClick:function(){e.setState({show:"reports"})}},"Reports"),r.a.createElement(T.a.Item,{onClick:function(){e.setState({show:"createReport"})}},"Create Report"),r.a.createElement(T.a.Item,{onClick:function(){e.setState({show:"AccountSettings"})}},"Account Settings"),r.a.createElement(T.a.Item,{onClick:function(){e.logout()}},"Logout"))),this.handleView())}}]),t}(r.a.Component),Q=a(73),X=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],s=t[1],o=Object(n.useState)(!1),l=Object(i.a)(o,2),c=l[0],d=l[1],h=Object(n.useState)(!1),u=Object(i.a)(h,2),p=u[0],m=u[1],g=Object(n.useState)([]),b=Object(i.a)(g,2),f=b[0],w=b[1];Object(n.useEffect)((function(){fetch("/checkLoginStatus",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=Object(Q.a)(e.reportData);d(e.loggedIn),s(e.userData),m(!0),w(t)}))}),[]);var v=function(e){var t=Object(Q.a)(e);w(t)},E=function(e){s(e)},C=function(e){var t=Object(Q.a)(e.reportData);s(e.userData),d(e.loggedIn),w(t)},k=function(){s({}),d(!1),w([])};return r.a.createElement("div",{className:"app"},p?c?r.a.createElement(K,{updateReports:v,updateUserData:E,reports:f,userData:a,handleLogout:k}):r.a.createElement(x,{handleLogin:C}):r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(y.a,{type:"BallTriangle",color:"#343a40",height:100,width:100})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,a){}},[[136,1,2]]]);
//# sourceMappingURL=main.e8cc00d4.chunk.js.map